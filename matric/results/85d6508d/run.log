INFO [2022-12-19 21:39:58] Logging to ./results/85d6508d/run.log...
INFO [2022-12-19 21:39:58] Loading https://github.com/broadinstitute/grit-benchmark/raw/main/1.calculate-metrics/cell-health/data//cell_health_merged_feature_select.csv.gz ...
INFO [2022-12-19 21:40:19] n_bad_shuffle_groups = 9 (threshold = 6) ... 
INFO [2022-12-19 21:40:19] n_bad_shuffle_groups = 9 (threshold = 6) ... 
INFO [2022-12-19 21:40:19] n_bad_shuffle_groups = 10 (threshold = 6) ... 
INFO [2022-12-19 21:40:19] n_bad_shuffle_groups = 10 (threshold = 6) ... 
INFO [2022-12-19 21:40:19] n_bad_shuffle_groups = 4 (threshold = 6) ... 
INFO [2022-12-19 21:40:19] n_bad_shuffle_groups = 4
INFO [2022-12-19 21:40:20] Writing ./results/85d6508d/profiles.parquet ...
INFO [2022-12-19 21:40:28] Calculating index ...
INFO [2022-12-19 21:40:28] Reducing similarity calculations because `any_different_cols_non_rep` is NULL ...
DEBUG [2022-12-19 21:40:28] Number of columns before NA filtering = 399
DEBUG [2022-12-19 21:40:28] Number of columns after NA filtering = 399
INFO [2022-12-19 21:40:29] Writing ./results/85d6508d/index.parquet ...
INFO [2022-12-19 21:40:29] Writing ./results/85d6508d/index.parquet ...
INFO [2022-12-19 21:40:29] Collate and annotate index ...
DEBUG [2022-12-19 21:40:30] sim_filter_all_same: annotating rows
DEBUG [2022-12-19 21:40:30] sim_filter_all_same: annotating rows
INFO [2022-12-19 21:40:30] Writing ./results/85d6508d/collatedindex.parquet ...
INFO [2022-12-19 21:40:33] Loading index file ...
INFO [2022-12-19 21:40:33] Populating index with similarities ...
DEBUG [2022-12-19 21:40:33] Number of columns before NA filtering = 399
DEBUG [2022-12-19 21:40:33] Number of columns after NA filtering = 399
TRACE [2022-12-19 21:40:33] Using purrr for sequential processing
INFO [2022-12-19 21:40:33] Writing ./results/85d6508d/collatedsim.parquet ...
INFO [2022-12-19 21:40:34] Computing metrics ...
INFO [2022-12-19 21:40:34] Calculating metrics using sim_type_background = 'ref' ...
TRACE [2022-12-19 21:40:34] Compute metrics for signal=rep background=ref
TRACE [2022-12-19 21:40:34] Using furrr for parallel processing
TRACE [2022-12-19 21:40:34] function (..., workers = 8, envir = parent.frame()) 
strategy(..., workers = workers, envir = envir)
TRACE [2022-12-19 21:40:34]   Number of rows = 309
TRACE [2022-12-19 21:40:34]   Computing `sim_scaled` ...
TRACE [2022-12-19 21:40:35]   Computing `sim_ranked_relrank` ...
TRACE [2022-12-19 21:40:40]   Computing summaries ...
TRACE [2022-12-19 21:40:41]   Setting up retrieval ...
TRACE [2022-12-19 21:40:42]   Computing average precision ...
TRACE [2022-12-19 21:40:42]   Computing R-precision ...
TRACE [2022-12-19 21:40:44]   Wrapping up metrics ...
TRACE [2022-12-19 21:40:44] Completed metrics for signal=rep background=ref
INFO [2022-12-19 21:40:44] Writing ./results/85d6508d/metrics_level_1_0_ref.parquet...
INFO [2022-12-19 21:40:44] Writing ./results/85d6508d/metrics_level_1_ref.parquet...
INFO [2022-12-19 21:40:45] Writing indicator file ./results/85d6508d/metrics.done ...
INFO [2022-12-19 21:40:49] Reading ./results/85d6508d/metrics_level_1_0_ref.parquet ...
INFO [2022-12-19 21:40:49] Reading ./results/85d6508d/metrics_level_1_ref.parquet ...
INFO [2022-12-19 21:41:10] Writing ./results/85d6508d/metrics_level_1_0_ref_null_adjusted.parquet ...
INFO [2022-12-19 21:41:11] Writing ./results/85d6508d/metrics_level_1_ref_null_adjusted.parquet ...
INFO [2022-12-19 21:41:15] Reading ./results/85d6508d/metrics_level_1_0_ref_null_adjusted.parquet ...
INFO [2022-12-19 21:41:15] Reading ./results/85d6508d/metrics_level_1_ref_null_adjusted.parquet ...
