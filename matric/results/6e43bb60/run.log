INFO [2023-02-02 19:21:34] Logging to ./results/6e43bb60/run.log...
INFO [2023-02-02 19:21:34] Loading https://github.com/broadinstitute/grit-benchmark/raw/main/1.calculate-metrics/cell-health/data//cell_health_merged_feature_select.csv.gz ...
INFO [2023-02-02 19:21:38] Number of variables in profiles before drop_na_columns  = 395
INFO [2023-02-02 19:21:40] Number of variables in profiles after drop_na_columns  = 395
INFO [2023-02-02 19:21:40] Number of rows in profiles before drop_na_rows  = 357
INFO [2023-02-02 19:21:40] Number of rows in profiles after drop_na_rows  = 357
INFO [2023-02-02 19:21:40] Writing ./results/6e43bb60/profiles.parquet ...
INFO [2023-02-02 19:21:41] Calculating index ...
INFO [2023-02-02 19:21:41] Performing all similarity calculations because `any_different_cols_non_rep` is not NULL ...
INFO [2023-02-02 19:21:41] Writing ./results/6e43bb60/index.parquet ...
INFO [2023-02-02 19:21:41] Writing ./results/6e43bb60/index.parquet ...
INFO [2023-02-02 19:21:41] Collate and annotate index ...
INFO [2023-02-02 19:21:42] Writing ./results/6e43bb60/collatedindex.parquet ...
INFO [2023-02-02 19:21:45] Loading index file ...
INFO [2023-02-02 19:21:45] Populating index with similarities ...
DEBUG [2023-02-02 19:21:45] Number of columns before NA filtering = 399
DEBUG [2023-02-02 19:21:45] Number of columns after NA filtering = 399
TRACE [2023-02-02 19:21:45] Using purrr for sequential processing
INFO [2023-02-02 19:21:45] Writing ./results/6e43bb60/collatedsim.parquet ...
INFO [2023-02-02 19:21:45] Computing metrics ...
INFO [2023-02-02 19:21:45] Calculating metrics using sim_type_background = 'ref' ...
TRACE [2023-02-02 19:21:45] Compute metrics for signal=rep background=ref
TRACE [2023-02-02 19:21:45] Using furrr for parallel processing
TRACE [2023-02-02 19:21:45] function (..., workers = 8, envir = parent.frame()) 
strategy(..., workers = workers, envir = envir)
TRACE [2023-02-02 19:21:46]   Number of rows = 309
TRACE [2023-02-02 19:21:46]   Computing `sim_scaled` ...
TRACE [2023-02-02 19:21:46]   Computing `sim_ranked_relrank` ...
TRACE [2023-02-02 19:21:51]   Computing summaries ...
TRACE [2023-02-02 19:21:51]   Setting up retrieval ...
TRACE [2023-02-02 19:21:52]   Computing average precision ...
TRACE [2023-02-02 19:21:53]   Computing R-precision ...
TRACE [2023-02-02 19:21:54]   Wrapping up metrics ...
TRACE [2023-02-02 19:21:54] Completed metrics for signal=rep background=ref
INFO [2023-02-02 19:21:54] Calculating metrics using sim_type_background = 'non_rep' because `any_different_cols_non_rep` is not NULL ...
TRACE [2023-02-02 19:21:54] Compute metrics for signal=rep background=non_rep
TRACE [2023-02-02 19:21:54] Using furrr for parallel processing
TRACE [2023-02-02 19:21:54] function (..., workers = 8, envir = parent.frame()) 
strategy(..., workers = workers, envir = envir)
TRACE [2023-02-02 19:21:54]   Number of rows = 309
TRACE [2023-02-02 19:21:54]   Computing `sim_scaled` ...
TRACE [2023-02-02 19:21:55]   Computing `sim_ranked_relrank` ...
TRACE [2023-02-02 19:21:55]   Computing summaries ...
TRACE [2023-02-02 19:21:55]   Setting up retrieval ...
TRACE [2023-02-02 19:21:56]   Computing average precision ...
TRACE [2023-02-02 19:21:56]   Computing R-precision ...
TRACE [2023-02-02 19:21:57]   Wrapping up metrics ...
TRACE [2023-02-02 19:21:57] Completed metrics for signal=rep background=non_rep
INFO [2023-02-02 19:21:58] Writing ./results/6e43bb60/metrics_level_1_0_ref.parquet...
INFO [2023-02-02 19:21:58] Writing ./results/6e43bb60/metrics_level_1_ref.parquet...
INFO [2023-02-02 19:21:58] Writing ./results/6e43bb60/metrics_level_1_0_non_rep.parquet...
INFO [2023-02-02 19:21:58] Writing ./results/6e43bb60/metrics_level_1_non_rep.parquet...
INFO [2023-02-02 19:21:58] Writing indicator file ./results/6e43bb60/metrics.done ...
DEBUG [2023-02-02 19:21:58] Rendered: input=3.calculate_metrics.Rmd
DEBUG [2023-02-02 19:21:58] Rendered: strip_text=/Users/shsingh/work/repos/software/cytominer/cytomining/evalzoo/matric/results/6e43bb60/
INFO [2023-02-02 19:22:01] Reading ./results/6e43bb60/metrics_level_1_0_non_rep.parquet ...
INFO [2023-02-02 19:22:01] Reading ./results/6e43bb60/metrics_level_1_non_rep.parquet ...
INFO [2023-02-02 19:22:22] Writing ./results/6e43bb60/metrics_level_1_0_non_rep_null_adjusted.parquet ...
INFO [2023-02-02 19:22:22] Writing ./results/6e43bb60/metrics_level_1_non_rep_null_adjusted.parquet ...
DEBUG [2023-02-02 19:22:23] Rendered: input=4.correct_metrics.Rmd
DEBUG [2023-02-02 19:22:23] Rendered: strip_text=/Users/shsingh/work/repos/software/cytominer/cytomining/evalzoo/matric/results/6e43bb60/
INFO [2023-02-02 19:22:24] Reading ./results/6e43bb60/metrics_level_1_0_non_rep_null_adjusted.parquet ...
INFO [2023-02-02 19:22:24] Reading ./results/6e43bb60/metrics_level_1_non_rep_null_adjusted.parquet ...
DEBUG [2023-02-02 19:22:39] Rendered: input=5.inspect_metrics.Rmd
DEBUG [2023-02-02 19:22:39] Rendered: strip_text=/Users/shsingh/work/repos/software/cytominer/cytomining/evalzoo/matric/results/6e43bb60/
DEBUG [2023-02-02 19:22:39] Rendered: input=0.knit-notebooks.Rmd
DEBUG [2023-02-02 19:22:39] Rendered: strip_text=/Users/shsingh/work/repos/software/cytominer/cytomining/evalzoo/matric/results/6e43bb60/
