INFO [2023-03-11 22:30:11] Logging to ./results/e986fbc1/run.log...
INFO [2023-03-11 22:30:12] Loading /Users/shsingh/work/projects/2019_07_11_JUMP-CP/workspace/software/2021_Chandrasekaran_submitted/profiles/2020_11_04_CPJUMP1/BR00116991/BR00116991_normalized_feature_select_negcon_batch.csv.gz ...
INFO [2023-03-11 22:30:13] Adding a column Metadata_Plate = BR00116991 to /Users/shsingh/work/projects/2019_07_11_JUMP-CP/workspace/software/2021_Chandrasekaran_submitted/profiles/2020_11_04_CPJUMP1/BR00116991/BR00116991_normalized_feature_select_negcon_batch.csv.gz...
INFO [2023-03-11 22:30:13] Loading /Users/shsingh/work/projects/2019_07_11_JUMP-CP/workspace/software/2021_Chandrasekaran_submitted/profiles/2020_11_04_CPJUMP1/BR00116992/BR00116992_normalized_feature_select_negcon_batch.csv.gz ...
INFO [2023-03-11 22:30:14] Adding a column Metadata_Plate = BR00116992 to /Users/shsingh/work/projects/2019_07_11_JUMP-CP/workspace/software/2021_Chandrasekaran_submitted/profiles/2020_11_04_CPJUMP1/BR00116992/BR00116992_normalized_feature_select_negcon_batch.csv.gz...
INFO [2023-03-11 22:30:14] Loading /Users/shsingh/work/projects/2019_07_11_JUMP-CP/workspace/software/2021_Chandrasekaran_submitted/profiles/2020_11_04_CPJUMP1/BR00116993/BR00116993_normalized_feature_select_negcon_batch.csv.gz ...
INFO [2023-03-11 22:30:15] Adding a column Metadata_Plate = BR00116993 to /Users/shsingh/work/projects/2019_07_11_JUMP-CP/workspace/software/2021_Chandrasekaran_submitted/profiles/2020_11_04_CPJUMP1/BR00116993/BR00116993_normalized_feature_select_negcon_batch.csv.gz...
INFO [2023-03-11 22:30:15] Loading /Users/shsingh/work/projects/2019_07_11_JUMP-CP/workspace/software/2021_Chandrasekaran_submitted/profiles/2020_11_04_CPJUMP1/BR00116994/BR00116994_normalized_feature_select_negcon_batch.csv.gz ...
INFO [2023-03-11 22:30:16] Adding a column Metadata_Plate = BR00116994 to /Users/shsingh/work/projects/2019_07_11_JUMP-CP/workspace/software/2021_Chandrasekaran_submitted/profiles/2020_11_04_CPJUMP1/BR00116994/BR00116994_normalized_feature_select_negcon_batch.csv.gz...
INFO [2023-03-11 22:30:20] Number of variables in profiles before drop_na_columns  = 904
INFO [2023-03-11 22:30:23] Number of variables in profiles after drop_na_columns  = 904
INFO [2023-03-11 22:30:23] Number of rows in profiles before drop_na_rows  = 384
INFO [2023-03-11 22:30:23] Number of rows in profiles after drop_na_rows  = 384
INFO [2023-03-11 22:30:23] Reading results/1c5aac5b/metrics_level_1_ref.parquet ...
INFO [2023-03-11 22:30:23] Selecting the following column from metrics: Metadata_broad_sample
INFO [2023-03-11 22:30:23] Selecting the following column from metrics: Metadata_control_type
INFO [2023-03-11 22:30:23] Selecting the following column from metrics: Metadata_reference_or_other
INFO [2023-03-11 22:30:23] Number of rows in metrics = 306
INFO [2023-03-11 22:30:23] Number of rows in profiles_experiment_other = 320
INFO [2023-03-11 22:30:23] Number of rows in profiles_experiment_other_filtered = 255
INFO [2023-03-11 22:30:23] Number of rows in profiles_experiment = 384
INFO [2023-03-11 22:30:23] Number of rows in profiles_experiment_filtered = 319
INFO [2023-03-11 22:30:24] Number of rows in external_metadata = 307
INFO [2023-03-11 22:30:24] Number of rows in profiles_experiment before joining external metadata = 319
INFO [2023-03-11 22:30:24] Number of rows in profiles_experiment after joining external metadata = 319
INFO [2023-03-11 22:30:24] Adding dummy metadata column `Metadata_dummy` with value 0 throughout for all rows
INFO [2023-03-11 22:30:24] Splitting rows on Metadata_target_list
INFO [2023-03-11 22:30:24] Writing ./results/e986fbc1/profiles_split_mapper_full.csv ...
INFO [2023-03-11 22:30:24] compact_splits = FALSE
INFO [2023-03-11 22:30:24] Number of rows in profiles_experiment before splitting = 319
INFO [2023-03-11 22:30:24] Number of rows in profiles_experiment after splitting = 1369
INFO [2023-03-11 22:30:24] Writing ./results/e986fbc1/profiles.parquet ...
DEBUG [2023-03-11 22:30:25] Rendered: input=1.prepare_data.Rmd
DEBUG [2023-03-11 22:30:25] Rendered: strip_text=/Users/shsingh/work/repos/software/cytominer/cytomining/evalzoo/matric/results/e986fbc1/
INFO [2023-03-11 22:30:25] Calculating index ...
INFO [2023-03-11 22:30:25] Performing all similarity calculations because `any_different_cols_non_rep` is not NULL ...
DEBUG [2023-03-11 22:30:25] Number of columns before NA filtering = 913
DEBUG [2023-03-11 22:30:25] Number of columns after NA filtering = 913
INFO [2023-03-11 22:30:25] Writing ./results/e986fbc1/index.parquet ...
INFO [2023-03-11 22:30:25] Writing ./results/e986fbc1/index.parquet ...
INFO [2023-03-11 22:30:26] Collate and annotate index ...
DEBUG [2023-03-11 22:30:26] sim_filter_all_same: inner joining rows
INFO [2023-03-11 22:30:28] Filtering collated_sim ...
INFO [2023-03-11 22:30:28] Number of rows in collated_sim before filtering = 1773039
INFO [2023-03-11 22:30:29] Number of rows in collated_sim after filtering = 351577
INFO [2023-03-11 22:30:29] Writing ./results/e986fbc1/collatedindex.parquet ...
DEBUG [2023-03-11 22:30:29] Rendered: input=2.calculate_index.Rmd
DEBUG [2023-03-11 22:30:29] Rendered: strip_text=/Users/shsingh/work/repos/software/cytominer/cytomining/evalzoo/matric/results/e986fbc1/
INFO [2023-03-11 22:30:31] Loading index file ...
INFO [2023-03-11 22:30:31] Populating index with similarities ...
DEBUG [2023-03-11 22:30:31] Number of columns before NA filtering = 913
DEBUG [2023-03-11 22:30:31] Number of columns after NA filtering = 913
TRACE [2023-03-11 22:30:31] Using purrr for sequential processing
INFO [2023-03-11 22:30:36] Writing ./results/e986fbc1/collatedsim.parquet ...
INFO [2023-03-11 22:30:36] Computing metrics ...
INFO [2023-03-11 22:30:36] Calculating metrics using sim_type_background = 'ref' ...
TRACE [2023-03-11 22:30:37] Compute metrics for signal=rep background=ref
TRACE [2023-03-11 22:30:37] Using furrr for parallel processing
TRACE [2023-03-11 22:30:37] function (..., workers = 8, envir = parent.frame()) 
strategy(..., workers = workers, envir = envir)
TRACE [2023-03-11 22:30:37]   Number of rows = 1002
TRACE [2023-03-11 22:30:37]   Computing `sim_scaled` ...
TRACE [2023-03-11 22:30:37]   Computing `sim_ranked_relrank` ...
TRACE [2023-03-11 22:30:37]   Computing summaries ...
TRACE [2023-03-11 22:30:37]   Setting up retrieval ...
TRACE [2023-03-11 22:30:37]   Computing average precision ...
TRACE [2023-03-11 22:30:37]   Computing R-precision ...
TRACE [2023-03-11 22:30:37]   Wrapping up metrics ...
TRACE [2023-03-11 22:30:37] Completed metrics for signal=rep background=ref
WARN [2023-03-11 22:30:37] Empty metrics data frame; no p-values to compute
INFO [2023-03-11 22:30:37] Calculating metrics using sim_type_background = 'non_rep' because `any_different_cols_non_rep` is not NULL ...
TRACE [2023-03-11 22:30:37] Compute metrics for signal=rep background=non_rep
TRACE [2023-03-11 22:30:37] Using furrr for parallel processing
TRACE [2023-03-11 22:30:37] function (..., workers = 8, envir = parent.frame()) 
strategy(..., workers = workers, envir = envir)
TRACE [2023-03-11 22:30:37]   Number of rows = 1002
TRACE [2023-03-11 22:30:37]   Computing `sim_scaled` ...
TRACE [2023-03-11 22:30:37]   Computing `sim_ranked_relrank` ...
TRACE [2023-03-11 22:30:42]   Computing summaries ...
TRACE [2023-03-11 22:30:42]   Setting up retrieval ...
TRACE [2023-03-11 22:30:45]   Computing average precision ...
TRACE [2023-03-11 22:30:47]   Computing R-precision ...
TRACE [2023-03-11 22:30:48]   Wrapping up metrics ...
TRACE [2023-03-11 22:30:48] Completed metrics for signal=rep background=non_rep
INFO [2023-03-11 22:32:24] Writing ./results/e986fbc1/metrics_level_1_0_ref.parquet...
INFO [2023-03-11 22:32:24] Writing ./results/e986fbc1/metrics_level_1_ref.parquet...
INFO [2023-03-11 22:32:24] Writing ./results/e986fbc1/metrics_level_1_0_non_rep.parquet...
INFO [2023-03-11 22:32:24] Writing ./results/e986fbc1/metrics_level_1_non_rep.parquet...
INFO [2023-03-11 22:32:24] Writing indicator file ./results/e986fbc1/metrics.done ...
DEBUG [2023-03-11 22:32:24] Rendered: input=3.calculate_metrics.Rmd
DEBUG [2023-03-11 22:32:24] Rendered: strip_text=/Users/shsingh/work/repos/software/cytominer/cytomining/evalzoo/matric/results/e986fbc1/
INFO [2023-03-11 22:32:24] Reading ./results/e986fbc1/metrics_level_1_0_non_rep.parquet ...
INFO [2023-03-11 22:32:24] Reading ./results/e986fbc1/metrics_level_1_non_rep.parquet ...
DEBUG [2023-03-11 22:32:33] Rendered: input=5.inspect_metrics.Rmd
DEBUG [2023-03-11 22:32:33] Rendered: strip_text=/Users/shsingh/work/repos/software/cytominer/cytomining/evalzoo/matric/results/e986fbc1/
DEBUG [2023-03-11 22:32:34] Rendered: input=0.knit-notebooks.Rmd
DEBUG [2023-03-11 22:32:34] Rendered: strip_text=/Users/shsingh/work/repos/software/cytominer/cytomining/evalzoo/matric/results/e986fbc1/
