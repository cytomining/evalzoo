INFO [2022-12-19 20:12:22] Logging to results/2b38fc8e/run.log...
INFO [2022-12-19 20:12:23] Loading /Users/shsingh/work/projects/2019_07_11_JUMP-CP/workspace/software/2021_Chandrasekaran_submitted/profiles/2020_11_04_CPJUMP1/BR00116991/BR00116991_normalized_feature_select_negcon_batch.csv.gz ...
INFO [2022-12-19 20:12:26] Adding a column Metadata_Plate = BR00116991 to /Users/shsingh/work/projects/2019_07_11_JUMP-CP/workspace/software/2021_Chandrasekaran_submitted/profiles/2020_11_04_CPJUMP1/BR00116991/BR00116991_normalized_feature_select_negcon_batch.csv.gz...
INFO [2022-12-19 20:12:26] Loading /Users/shsingh/work/projects/2019_07_11_JUMP-CP/workspace/software/2021_Chandrasekaran_submitted/profiles/2020_11_04_CPJUMP1/BR00116992/BR00116992_normalized_feature_select_negcon_batch.csv.gz ...
INFO [2022-12-19 20:12:29] Adding a column Metadata_Plate = BR00116992 to /Users/shsingh/work/projects/2019_07_11_JUMP-CP/workspace/software/2021_Chandrasekaran_submitted/profiles/2020_11_04_CPJUMP1/BR00116992/BR00116992_normalized_feature_select_negcon_batch.csv.gz...
INFO [2022-12-19 20:12:29] Loading /Users/shsingh/work/projects/2019_07_11_JUMP-CP/workspace/software/2021_Chandrasekaran_submitted/profiles/2020_11_04_CPJUMP1/BR00116993/BR00116993_normalized_feature_select_negcon_batch.csv.gz ...
INFO [2022-12-19 20:12:33] Adding a column Metadata_Plate = BR00116993 to /Users/shsingh/work/projects/2019_07_11_JUMP-CP/workspace/software/2021_Chandrasekaran_submitted/profiles/2020_11_04_CPJUMP1/BR00116993/BR00116993_normalized_feature_select_negcon_batch.csv.gz...
INFO [2022-12-19 20:12:33] Loading /Users/shsingh/work/projects/2019_07_11_JUMP-CP/workspace/software/2021_Chandrasekaran_submitted/profiles/2020_11_04_CPJUMP1/BR00116994/BR00116994_normalized_feature_select_negcon_batch.csv.gz ...
INFO [2022-12-19 20:12:37] Adding a column Metadata_Plate = BR00116994 to /Users/shsingh/work/projects/2019_07_11_JUMP-CP/workspace/software/2021_Chandrasekaran_submitted/profiles/2020_11_04_CPJUMP1/BR00116994/BR00116994_normalized_feature_select_negcon_batch.csv.gz...
INFO [2022-12-19 20:12:41] Reading results/90ef1d9e/metrics_level_1_ref_null_adjusted.parquet ...
INFO [2022-12-19 20:12:41] Selecting the following column from metrics: Metadata_broad_sample
INFO [2022-12-19 20:12:41] Selecting the following column from metrics: Metadata_control_type
INFO [2022-12-19 20:12:41] Selecting the following column from metrics: Metadata_reference_or_other
INFO [2022-12-19 20:12:41] Number of rows in metrics = 306
INFO [2022-12-19 20:12:41] Number of rows in profiles_experiment_other = 320
INFO [2022-12-19 20:12:41] Number of rows in profiles_experiment_other_filtered = 249
INFO [2022-12-19 20:12:41] Number of rows in profiles_experiment = 384
INFO [2022-12-19 20:12:42] Number of rows in profiles_experiment_filtered = 313
INFO [2022-12-19 20:12:42] Number of rows in external_metadata = 307
INFO [2022-12-19 20:12:42] Number of rows in profiles_experiment before joining external metadata = 313
INFO [2022-12-19 20:12:42] Number of rows in profiles_experiment after joining external metadata = 313
INFO [2022-12-19 20:12:42] Adding dummy metadata column `Metadata_dummy` with value 0 throughout for all rows
INFO [2022-12-19 20:12:42] Splitting rows on Metadata_target_list
INFO [2022-12-19 20:12:43] Writing results/2b38fc8e/profiles_split_mapper_full.csv ...
INFO [2022-12-19 20:12:43] Writing results/2b38fc8e/profiles_split_mapper_compact.csv ...
INFO [2022-12-19 20:12:44] compact_splits = FALSE
INFO [2022-12-19 20:12:44] Number of rows in profiles_experiment before splitting = 313
INFO [2022-12-19 20:12:44] Number of rows in profiles_experiment after splitting = 1353
INFO [2022-12-19 20:12:44] Writing results/2b38fc8e/profiles.parquet ...
INFO [2022-12-19 20:13:01] Calculating index ...
INFO [2022-12-19 20:13:01] Performing all similarity calculations because `any_different_cols_non_rep` is not NULL ...
DEBUG [2022-12-19 20:13:01] Number of columns before NA filtering = 913
DEBUG [2022-12-19 20:13:01] Number of columns after NA filtering = 913
INFO [2022-12-19 20:13:02] Writing results/2b38fc8e/index.parquet ...
INFO [2022-12-19 20:13:02] Writing results/2b38fc8e/index.parquet ...
INFO [2022-12-19 20:13:03] Collate and annotate index ...
DEBUG [2022-12-19 20:13:03] sim_filter_all_same: inner joining rows
INFO [2022-12-19 20:13:09] Filtering collated_sim ...
INFO [2022-12-19 20:13:09] Number of rows in collated_sim before filtering = 1730521
INFO [2022-12-19 20:13:10] Number of rows in collated_sim after filtering = 339341
INFO [2022-12-19 20:13:10] Writing results/2b38fc8e/collatedindex.parquet ...
INFO [2022-12-19 20:13:14] Loading index file ...
INFO [2022-12-19 20:13:14] Populating index with similarities ...
DEBUG [2022-12-19 20:13:15] Number of columns before NA filtering = 913
DEBUG [2022-12-19 20:13:15] Number of columns after NA filtering = 913
TRACE [2022-12-19 20:13:15] Using purrr for sequential processing
INFO [2022-12-19 20:13:21] Writing results/2b38fc8e/collatedsim.parquet ...
INFO [2022-12-19 20:13:22] Computing metrics ...
INFO [2022-12-19 20:13:22] Calculating metrics using sim_type_background = 'ref' ...
TRACE [2022-12-19 20:13:22] Compute metrics for signal=rep background=ref
TRACE [2022-12-19 20:13:22] Using furrr for parallel processing
TRACE [2022-12-19 20:13:22] function (..., workers = 8, envir = parent.frame()) 
strategy(..., workers = workers, envir = envir)
TRACE [2022-12-19 20:13:24]   Number of rows = 982
TRACE [2022-12-19 20:13:24]   Computing `sim_scaled` ...
TRACE [2022-12-19 20:13:24]   Computing `sim_ranked_relrank` ...
TRACE [2022-12-19 20:13:24]   Computing summaries ...
TRACE [2022-12-19 20:13:24]   Setting up retrieval ...
TRACE [2022-12-19 20:13:24]   Computing average precision ...
TRACE [2022-12-19 20:13:24]   Computing R-precision ...
TRACE [2022-12-19 20:13:24]   Wrapping up metrics ...
TRACE [2022-12-19 20:13:24] Completed metrics for signal=rep background=ref
INFO [2022-12-19 20:13:24] Calculating metrics using sim_type_background = 'non_rep' because `any_different_cols_non_rep` is not NULL ...
TRACE [2022-12-19 20:13:24] Compute metrics for signal=rep background=non_rep
TRACE [2022-12-19 20:13:24] Using furrr for parallel processing
TRACE [2022-12-19 20:13:24] function (..., workers = 8, envir = parent.frame()) 
strategy(..., workers = workers, envir = envir)
TRACE [2022-12-19 20:13:24]   Number of rows = 982
TRACE [2022-12-19 20:13:24]   Computing `sim_scaled` ...
TRACE [2022-12-19 20:13:28]   Computing `sim_ranked_relrank` ...
TRACE [2022-12-19 20:13:34]   Computing summaries ...
TRACE [2022-12-19 20:13:35]   Setting up retrieval ...
TRACE [2022-12-19 20:13:38]   Computing average precision ...
TRACE [2022-12-19 20:13:39]   Computing R-precision ...
TRACE [2022-12-19 20:13:41]   Wrapping up metrics ...
TRACE [2022-12-19 20:13:41] Completed metrics for signal=rep background=non_rep
INFO [2022-12-19 20:13:41] Writing results/2b38fc8e/metrics_level_1_0_ref.parquet...
INFO [2022-12-19 20:13:42] Writing results/2b38fc8e/metrics_level_1_ref.parquet...
INFO [2022-12-19 20:13:42] Writing results/2b38fc8e/metrics_level_1_0_non_rep.parquet...
INFO [2022-12-19 20:13:42] Writing results/2b38fc8e/metrics_level_1_non_rep.parquet...
INFO [2022-12-19 20:13:43] Writing indicator file results/2b38fc8e/metrics.done ...
INFO [2022-12-19 20:13:47] Reading results/2b38fc8e/metrics_level_1_0_non_rep.parquet ...
INFO [2022-12-19 20:13:47] Reading results/2b38fc8e/metrics_level_1_non_rep.parquet ...
INFO [2022-12-19 20:14:24] Writing results/2b38fc8e/metrics_level_1_0_non_rep_null_adjusted.parquet ...
INFO [2022-12-19 20:14:25] Writing results/2b38fc8e/metrics_level_1_non_rep_null_adjusted.parquet ...
INFO [2022-12-19 20:14:28] Reading results/2b38fc8e/metrics_level_1_0_non_rep_null_adjusted.parquet ...
INFO [2022-12-19 20:14:28] Reading results/2b38fc8e/metrics_level_1_non_rep_null_adjusted.parquet ...
