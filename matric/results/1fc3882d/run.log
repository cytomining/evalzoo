INFO [2022-12-20 09:43:57] Logging to ./results/1fc3882d/run.log...
INFO [2022-12-20 09:43:57] Loading https://github.com/broadinstitute/grit-benchmark/raw/main/1.calculate-metrics/cell-health/data//cell_health_merged_feature_select.csv.gz ...
INFO [2022-12-20 09:44:02] n_bad_shuffle_groups = 9 (threshold = 6) ... 
INFO [2022-12-20 09:44:02] n_bad_shuffle_groups = 9 (threshold = 6) ... 
INFO [2022-12-20 09:44:02] n_bad_shuffle_groups = 10 (threshold = 6) ... 
INFO [2022-12-20 09:44:02] n_bad_shuffle_groups = 10 (threshold = 6) ... 
INFO [2022-12-20 09:44:02] n_bad_shuffle_groups = 4 (threshold = 6) ... 
INFO [2022-12-20 09:44:02] n_bad_shuffle_groups = 4
INFO [2022-12-20 09:44:03] Writing ./results/1fc3882d/profiles.parquet ...
DEBUG [2022-12-20 09:44:04] Rendered: input=1.prepare_data.Rmd
DEBUG [2022-12-20 09:44:04] Rendered: strip_text=/Users/shsingh/work/repos/software/cytominer/cytomining/evalzoo/matric/results/1fc3882d/
INFO [2022-12-20 09:44:04] Calculating index ...
INFO [2022-12-20 09:44:04] Performing all similarity calculations because `any_different_cols_non_rep` is not NULL ...
DEBUG [2022-12-20 09:44:04] Number of columns before NA filtering = 399
DEBUG [2022-12-20 09:44:04] Number of columns after NA filtering = 399
INFO [2022-12-20 09:44:04] Writing ./results/1fc3882d/index.parquet ...
INFO [2022-12-20 09:44:04] Writing ./results/1fc3882d/index.parquet ...
INFO [2022-12-20 09:44:05] Collate and annotate index ...
DEBUG [2022-12-20 09:44:05] sim_filter_all_same: annotating rows
DEBUG [2022-12-20 09:44:05] sim_filter_all_same: inner joining rows
INFO [2022-12-20 09:44:05] Writing ./results/1fc3882d/collatedindex.parquet ...
DEBUG [2022-12-20 09:44:06] Rendered: input=2.calculate_index.Rmd
DEBUG [2022-12-20 09:44:06] Rendered: strip_text=/Users/shsingh/work/repos/software/cytominer/cytomining/evalzoo/matric/results/1fc3882d/
INFO [2022-12-20 09:44:08] Loading index file ...
INFO [2022-12-20 09:44:08] Populating index with similarities ...
DEBUG [2022-12-20 09:44:08] Number of columns before NA filtering = 399
DEBUG [2022-12-20 09:44:08] Number of columns after NA filtering = 399
TRACE [2022-12-20 09:44:08] Using purrr for sequential processing
INFO [2022-12-20 09:44:09] Writing ./results/1fc3882d/collatedsim.parquet ...
INFO [2022-12-20 09:44:09] Computing metrics ...
INFO [2022-12-20 09:44:09] Calculating metrics using sim_type_background = 'ref' ...
TRACE [2022-12-20 09:44:09] Compute metrics for signal=rep background=ref
TRACE [2022-12-20 09:44:09] Using furrr for parallel processing
TRACE [2022-12-20 09:44:09] function (..., workers = 8, envir = parent.frame()) 
strategy(..., workers = workers, envir = envir)
TRACE [2022-12-20 09:44:09]   Number of rows = 309
TRACE [2022-12-20 09:44:09]   Computing `sim_scaled` ...
TRACE [2022-12-20 09:44:10]   Computing `sim_ranked_relrank` ...
TRACE [2022-12-20 09:44:16]   Computing summaries ...
TRACE [2022-12-20 09:44:16]   Setting up retrieval ...
TRACE [2022-12-20 09:44:17]   Computing average precision ...
TRACE [2022-12-20 09:44:18]   Computing R-precision ...
TRACE [2022-12-20 09:44:19]   Wrapping up metrics ...
TRACE [2022-12-20 09:44:19] Completed metrics for signal=rep background=ref
INFO [2022-12-20 09:44:19] Calculating metrics using sim_type_background = 'non_rep' because `any_different_cols_non_rep` is not NULL ...
TRACE [2022-12-20 09:44:19] Compute metrics for signal=rep background=non_rep
TRACE [2022-12-20 09:44:19] Using furrr for parallel processing
TRACE [2022-12-20 09:44:19] function (..., workers = 8, envir = parent.frame()) 
strategy(..., workers = workers, envir = envir)
TRACE [2022-12-20 09:44:19]   Number of rows = 309
TRACE [2022-12-20 09:44:19]   Computing `sim_scaled` ...
TRACE [2022-12-20 09:44:20]   Computing `sim_ranked_relrank` ...
TRACE [2022-12-20 09:44:20]   Computing summaries ...
TRACE [2022-12-20 09:44:20]   Setting up retrieval ...
TRACE [2022-12-20 09:44:21]   Computing average precision ...
TRACE [2022-12-20 09:44:22]   Computing R-precision ...
TRACE [2022-12-20 09:44:23]   Wrapping up metrics ...
TRACE [2022-12-20 09:44:23] Completed metrics for signal=rep background=non_rep
INFO [2022-12-20 09:44:23] Writing ./results/1fc3882d/metrics_level_1_0_ref.parquet...
INFO [2022-12-20 09:44:23] Writing ./results/1fc3882d/metrics_level_1_ref.parquet...
INFO [2022-12-20 09:44:23] Writing ./results/1fc3882d/metrics_level_1_0_non_rep.parquet...
INFO [2022-12-20 09:44:23] Writing ./results/1fc3882d/metrics_level_1_non_rep.parquet...
INFO [2022-12-20 09:44:23] Writing indicator file ./results/1fc3882d/metrics.done ...
DEBUG [2022-12-20 09:44:25] Rendered: input=3.calculate_metrics.Rmd
DEBUG [2022-12-20 09:44:25] Rendered: strip_text=/Users/shsingh/work/repos/software/cytominer/cytomining/evalzoo/matric/results/1fc3882d/
INFO [2022-12-20 09:44:30] Reading ./results/1fc3882d/metrics_level_1_0_non_rep.parquet ...
INFO [2022-12-20 09:44:30] Reading ./results/1fc3882d/metrics_level_1_non_rep.parquet ...
INFO [2022-12-20 09:44:49] Writing ./results/1fc3882d/metrics_level_1_0_non_rep_null_adjusted.parquet ...
INFO [2022-12-20 09:44:49] Writing ./results/1fc3882d/metrics_level_1_non_rep_null_adjusted.parquet ...
DEBUG [2022-12-20 09:44:50] Rendered: input=4.correct_metrics.Rmd
DEBUG [2022-12-20 09:44:50] Rendered: strip_text=/Users/shsingh/work/repos/software/cytominer/cytomining/evalzoo/matric/results/1fc3882d/
INFO [2022-12-20 09:44:50] Reading ./results/1fc3882d/metrics_level_1_0_non_rep_null_adjusted.parquet ...
INFO [2022-12-20 09:44:50] Reading ./results/1fc3882d/metrics_level_1_non_rep_null_adjusted.parquet ...
DEBUG [2022-12-20 09:45:10] Rendered: input=5.inspect_metrics.Rmd
DEBUG [2022-12-20 09:45:10] Rendered: strip_text=/Users/shsingh/work/repos/software/cytominer/cytomining/evalzoo/matric/results/1fc3882d/
DEBUG [2022-12-20 09:45:12] Rendered: input=0.knit-notebooks.Rmd
DEBUG [2022-12-20 09:45:12] Rendered: strip_text=/Users/shsingh/work/repos/software/cytominer/cytomining/evalzoo/matric/results/1fc3882d/
